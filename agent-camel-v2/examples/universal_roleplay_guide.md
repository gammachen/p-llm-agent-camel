# 通用角色扮演Agent构建器使用指南

## 🎯 功能介绍

通用角色扮演Agent构建器是一个基于CAMEL框架的交互式知识问答系统，允许用户通过控制台输入任意主题，动态生成对应的AI专家和答题者角色。

## 🚀 使用方法

### 直接运行
```bash
cd agent-camel-v2
python examples/universal_roleplay_agent.py
```

### 支持的主题类型
- **历史类**: 三国历史、抗日战争、台湾历史、杭州历史文化
- **科学类**: 量子力学、空气动力学、食物链、瞬时速度
- **数学类**: 鸡兔同笼、相遇问题、时间计算
- **文化类**: 知识图谱、哲学家尼采、浙江历史博物馆
- **任意主题**: 输入任何你感兴趣的知识领域

## 🎮 游戏流程

1. **主题输入**: 用户输入想要学习的主题
2. **角色生成**: 系统自动创建该领域的AI专家和答题者
3. **知识问答**: AI专家出题，答题者回答
4. **结果验证**: 实时验证答案正确性
5. **统计报告**: 生成详细的学习报告

## 📊 游戏参数

- **最大轮次**: 12轮
- **最小轮次**: 6轮
- **及格线**: 40%正确率
- **评级标准**:
  - 优秀: ≥80%
  - 良好: ≥60%
  - 及格: ≥40%
  - 需要努力: <40%

## 🔧 技术特点

### 基于riddle_complete.py规范
- ✅ 首轮AI助手主动出题触发
- ✅ 严格JSON格式输出（问题+答案）
- ✅ 问题正确传递给参赛者
- ✅ 实时存储答题结果
- ✅ 完全匹配答案判定

### 动态角色生成
```python
# AI助手角色定义示例
你是【用户主题】领域的专业出题助手。
职责：
1. 必须主动出题，基于【用户主题】相关知识
2. 输出格式：{"question": "题目", "answer": "答案"}
3. 题目要有教育意义，答案要准确简洁
```

## 🎯 使用示例

### 示例1：三国历史
```
请输入主题：三国历史
🎯 三国历史知识问答游戏开始！
🤖 AI三国历史专家 vs 🧑‍🎓 三国历史答题者
```

### 示例2：量子力学
```
请输入主题：量子力学
🎯 量子力学知识问答游戏开始！
🤖 AI量子力学专家 vs 🧑‍🎓 量子力学答题者
```

### 示例3：杭州历史文化
```
请输入主题：杭州历史文化
🎯 杭州历史文化知识问答游戏开始！
🤖 AI杭州历史文化专家 vs 🧑‍🎓 杭州历史文化答题者
```

## 📋 输出格式

每轮输出包含：
- 🎯 轮次信息
- 🤖 AI专家出题
- 📝 问题展示
- 🧑‍🎓 参赛者回答
- 💡 标准答案
- ✅/❌ 正确性判定
- 📊 实时统计

## 🏆 最终报告

游戏结束后显示：
- 主题名称
- 总轮次数
- 正确答题数
- 正确率百分比
- 成绩等级
- 个性化评语
- 最近5轮详细记录

## 💡 扩展建议

1. **主题库扩展**: 可以预定义热门主题的系统消息模板
2. **难度分级**: 为同一主题设置不同难度级别
3. **多人模式**: 支持多个答题者同时参与
4. **学习记录**: 保存用户的历史答题数据
5. **语音交互**: 集成语音识别和合成

## 🔍 故障排除

### 常见问题
1. **API密钥错误**: 确保设置了OPENAI_API_KEY环境变量
2. **网络连接**: 检查网络连接是否正常
3. **主题模糊**: 尽量使用具体的主题名称

### 调试模式
```python
# 在代码中启用调试输出
print("📝 原始文本：", text)  # 查看原始AI响应
```